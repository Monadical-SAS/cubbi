name: aider
description: Aider AI pair programming environment
version: 1.0.0
maintainer: team@monadical.com
image: monadical/cubbi-aider:latest

persistent_configs:
  - source: "/home/cubbi/.aider"
    target: "/cubbi-config/aider-settings"
    type: "directory"
    description: "Aider configuration and history"

  - source: "/home/cubbi/.cache/aider"
    target: "/cubbi-config/aider-cache"
    type: "directory"
    description: "Aider cache directory"

environments_to_forward:
  # API Keys
  - OPENAI_API_KEY
  - ANTHROPIC_API_KEY
  - ANTHROPIC_AUTH_TOKEN
  - ANTHROPIC_CUSTOM_HEADERS
  - DEEPSEEK_API_KEY
  - GEMINI_API_KEY
  - OPENROUTER_API_KEY
  - AIDER_API_KEYS

  # Model Configuration
  - AIDER_MODEL
  - CUBBI_MODEL
  - CUBBI_PROVIDER

  # Git Configuration
  - AIDER_AUTO_COMMITS
  - AIDER_DARK_MODE
  - GIT_AUTHOR_NAME
  - GIT_AUTHOR_EMAIL
  - GIT_COMMITTER_NAME
  - GIT_COMMITTER_EMAIL

  # Proxy Configuration
  - HTTP_PROXY
  - HTTPS_PROXY
  - NO_PROXY

  # OpenAI Configuration
  - OPENAI_URL
  - OPENAI_API_BASE
  - AIDER_OPENAI_API_BASE

  # Timezone (useful for logs and timestamps)
  - TZ
